<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Visualization Homework 6</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
    <h1>üìä Data Visualization Homework 6 üìä</h1>
    
    <h2>Resources:</h2>
    <a href="https://raw.githubusercontent.com/UIUC-iSchool-DataViz/is445_data/main/building_inventory.csv"> üìÇ The Data: Building Inventory Dataset</a>
    <br>
    <a href="https://us.prairielearn.com/pl/workspace/2452430">üßë‚Äçüíª The Analysis Code</a>

    <h2>Plot 1: Building Numbers and Status Over Time</h2>

    <div id="chart1"></div>
    

    <p><strong>üíå Description:</strong></p>
    <p>This chart visualizes the distribution of buildings across different decades, specifically comparing the total number of buildings to the proportion of buildings that are currently "In Use". Grouping the data by decade reveals trends in construction and usage over time. It highlights how building activity has evolved and the proportion of buildings still actively used, providing valuable insights for urban development, property management, and resource allocation.</p>
    <p><strong>üìù Design Choices:</strong></p>
    <ul>
        <li><strong>Layered Approach:</strong> I used a layered approach with two distinct chart types:
            <ul>
                <li><strong>Bar Chart:</strong> Represents the total count of buildings for each decade. I encoded the decade (discrete) on the x-axis and the total count of buildings (quantitative) on the y-axis. This allows the viewer to clearly see the number of buildings in each decade.</li>
                <li><strong>Line Chart:</strong> Shows the proportion of buildings that are "In Use" across decades. I encoded the decade on the x-axis and the proportion of buildings In Use (quantitative) on the y-axis. The scale is limited to a range of 0 to 1 to represent a proportion.</li>
            </ul>
        </li>
        <li><strong>Color Scheme:</strong>
            <ul>
                <li>The bar chart is colored using <strong>steel blue</strong>, a color that is easy on the eyes and works well with the other chart's <strong>red line</strong>. It visually distinguishes the total count from the line chart.</li>
            </ul>
        </li>
    </ul>

    <p><strong>üîß Data Transformations:</strong></p>
    <ul>
        <li>First, I extracted the year of construction and building status from the dataset and <strong>dropped any rows with missing values </strong>.</li>
        <li>I then transformed the year of construction into decades by performing a <strong>floor division</strong> (// 10) and <strong>multiplying</strong> by 10, so that all buildings are grouped by the decade in which they were constructed.</li>
        <li>Afterward, I calculated the total number of buildings for each decade using a <strong> group-by </strong> operation.</li>
        <li>Similarly, I calculated the count of buildings "In Use" by filtering the data based on the building status and <strong>aggregating by decade</strong>.</li>
        <li>Finally, I computed the proportion of buildings "In Use" by dividing the count of buildings "In Use" by the total count of buildings for each decade.</li>
    </ul>

    <p><strong>‚ú® Interactivity:</strong></p>
    <p>For this plot, I included <strong>tooltips</strong> to add interactivity ‚ú®. The tooltip can display the exact counts or proportions when hovering over the bars or line points. This would allow viewers to obtain more precise data values directly from the chart, enhancing the clarity of the information presented.</p>


    <h2>Chart 2: Line Chart with Filtering</h2>
    <div id="chart2"></div>
    <p>This line chart displays the trend of average square footage over time for years after 2000, providing insights into long-term changes in building space usage.</p>
    
    
    
    <script>
        // Embed Chart 1 (use raw GitHub URL for chart1.json)
        vegaEmbed('#chart1', 'https://raw.githubusercontent.com/RachelYeqy/RachelYeqy.github.io/main/Data-Viz-HW/chart1.json').catch(console.error);
        
        // Embed Chart 2 (use raw GitHub URL for chart2.json)
        vegaEmbed('#chart2', 'https://raw.githubusercontent.com/RachelYeqy/RachelYeqy.github.io/main/Data-Viz-HW/chart2.json').catch(console.error);
    </script>

</body>
</html>
